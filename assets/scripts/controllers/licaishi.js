angular.module("fbs.controllers").controller("licaishiListCtrl",function($scope,$state,DataAPI,$stateParams){var actionsUrl,operat=$stateParams.operat;actionsUrl="myatt"==operat?"getmyattentionlist":"myfans"==operat?"getmyfanslist":"getmasterlist",$scope.lcsListReqOptions={action:actionsUrl,pageindex:1,pagesize:10,keyword:""},$scope.categoryAera=!1,$scope.ctgListReqOptions={action:"getmastertaglist",pageindex:1,pagesize:10},$scope.pageDatas={licaishiList:DataAPI.get($scope.lcsListReqOptions),categoryList:DataAPI.get($scope.ctgListReqOptions)},$scope.details=function(licaishiId){$state.go("licaishi_single",{licaishiId:licaishiId})},$scope.atteLcs=function(licaishi,$event){$event.stopPropagation&&$event.stopPropagation();var atteStatus=licaishi.isattention;atteStatus?(console.log("取消关注理财师"),DataAPI.get({action:"cancelattention",touserid:licaishi.userid}).$promise.then(function(resp){0==resp.errcode?(console.log("取消关注成功"),licaishi.isattention=!licaishi.isattention):1==resp.errcode?console.log("取消关注失败"):-1==resp.errcode?console.log("尚未登录"):2==resp.errcode&&console.log("已经关注过了")})):(console.log("关注理财师"),DataAPI.get({action:"addattention",touserid:licaishi.userid}).$promise.then(function(resp){0==resp.errcode?(console.log("关注成功"),licaishi.isattention=!licaishi.isattention):console.log(1==resp.errcode?"关注失败":"尚未登录")})),console.log(licaishi)}}).controller("licaishiSingleCtrl",function($scope,$state,$stateParams,DataAPI){var licaishiId=$stateParams.licaishiId;$scope.licaishi=DataAPI.get({action:"getmasterdetail",userid:licaishiId}),$scope.zixun=function(){$state.go("wd_add",{touserid:licaishiId})}}).controller("licaishiOtherCtrl",function($scope,DataAPI){var activityId=291504;$scope.apply_data={},$scope.apply_data.K1=1,DataAPI.get({action:"getactivitydetail",activityid:activityId}).$promise.then(function(resp){$scope.applyForm=resp,console.log($scope.applyForm.signfield)}),$scope.apply_data.activityid=activityId,$scope.apply_data.action="submitactivitysigndata",$scope.online_apply=function(){DataAPI.get($scope.apply_data).$promise.then(function(resp){console.log(resp)})}});